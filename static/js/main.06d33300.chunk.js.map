{"version":3,"sources":["app/hooks.ts","utils/axiosClient.ts","api/photo.ts","features/Server/serverSlice.ts","components/Loader/Loader.tsx","features/Options/optionSlice.ts","components/Card/Card.tsx","features/Photo/photoSlice.ts","components/Container/Container.tsx","app/store.ts","components/Header/Header.tsx","components/Scale/Scale.tsx","components/Options/Options.tsx","components/Modal/Modal.tsx","HomePage/HomePage.tsx","App.tsx","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","baseURL","instance","axios","create","client","url","get","response","console","log","data","getPhotos","page","limit","getToServerAsync","createAsyncThunk","serverSlice","createSlice","name","initialState","storage","statusLoading","error","nextLoadingPhotoIndex","randomDelayLoading","reducers","add","state","action","push","payload","sortById","sort","a","b","Number","id","setStatusLoading","setError","loadNextPhoto","setRandomDelay","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","selectServerStatusLoading","server","selectRandomDelay","loadDataOnServer","dispatch","Loader","className","isOptionsVisible","isDeletedVisible","width","height","optionsSlice","setVisible","setWidth","setHeight","setBorderRadius","resetOptions","changeVisibleDeleted","selectIsVisibleOptions","options","selectOptionsHeight","selectOptionsWidth","selectOptionsBorderRadius","selectIsDeletedVisible","Card","content","onCross","author","download_url","status","cardStyle","minWidth","borderRadius","backgroundImage","backgroundSize","backgroundRepeat","classNames","CardLoader","style","onClick","onKeyDown","role","tabIndex","isElementInList","array","requestId","findIndex","el","replaceDownloadedPhoto","photo","map","list","deleted","onFill","onFillLoadingStatus","loaded","falseLoadingPhotoAsync","_","getState","loadingPhoto","delay","Math","random","Promise","resolve","setTimeout","photosSlice","changePhotoByRequestId","forEach","deletePhoto","deletedIndex","splice","length","restorePhoto","restoreIndex","restoreAll","setOnFill","clear","reset","meta","selectVisible","photos","selectDeleted","selectOnFill","selectOnFillLoadingStatus","Container","onFillStatus","widthCard","heightCard","useState","countPlaces","setCountPlaces","widthWindow","window","innerWidth","countW","floor","heightWindow","innerHeight","countH","useEffect","document","addEventListener","scrollHandler","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","rootReducer","combineReducers","photosReducer","optionsReducer","serverReducer","persistConfig","key","whitelist","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","Header","isVisibleOptions","onFillByThunk","timerRef","useRef","onFillCallBack","onFillSetTimeOut","setOnFillSetTimeOut","onFillHandler","current","setInterval","clearInterval","startOnFillSetTimeOut","type","purge","location","reload","Scale","title","min","max","currentSelector","setCurrent","currentValue","useCallback","i","styleButton","item","backgroundColor","opacity","onButton","Options","visible","isRandomDelay","Modal","closeModal","isEmpty","setIsEmpty","HomePage","isVisibleDeleted","App","ReactDOM","createRoot","getElementById","render","loading"],"mappings":"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","file":"static/js/main.06d33300.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// export const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import axios from 'axios';\n\nconst baseURL = 'https://picsum.photos';\n\nconst instance = axios.create({\n  baseURL,\n});\n\ntype FetchData = {\n};\n\nexport const client = {\n  async get<T>(url: string) {\n    const response = await instance.get<T>(url);\n\n    // eslint-disable-next-line no-console\n    console.log('fetch to', baseURL + url);\n\n    return response.data;\n  },\n\n  async post<T>(url: string, data: FetchData) {\n    const response = await instance.post<T>(url, data);\n\n    return response.data;\n  },\n\n  async patch<T>(url: string, data: FetchData) {\n    const response = await instance.patch<T>(url, data);\n\n    return response.data;\n  },\n\n  async delete(url: string) {\n    return instance.delete(url);\n  },\n};\n","import { Photo } from '../type/Photo';\nimport { client } from '../utils/axiosClient';\n\nexport const getPhotos = (page: number, limit: number) => {\n  return client.get<Photo[]>(`v2/list?page=${page}&limit=${limit}`);\n};\n","import {\n  createAsyncThunk,\n  createSlice,\n  PayloadAction,\n} from '@reduxjs/toolkit';\nimport { getPhotos } from '../../api/photo';\n// eslint-disable-next-line import/no-cycle\nimport {\n  AppDispatch,\n  RootState,\n} from '../../app/store';\nimport { Photo } from '../../type/Photo';\n\nexport interface ServerState {\n  storage: Photo[];\n  statusLoading: 'idle' | 'loading' | 'failed';\n  error: unknown;\n\n  nextLoadingPhotoIndex: number;\n  randomDelayLoading: boolean;\n}\n\nconst initialState: ServerState = {\n  storage: [] as Photo[],\n  statusLoading: 'idle',\n  error: null,\n  nextLoadingPhotoIndex: 0,\n  randomDelayLoading: false,\n};\n\nexport const getToServerAsync = createAsyncThunk(\n  'server/fetchPhotos',\n  async (\n    { page, limit = 100 }: {page: number; limit: number},\n  ) => {\n    const response: Photo[] = await getPhotos(page, limit);\n\n    return response;\n  },\n);\n\nconst serverSlice = createSlice({\n  name: 'server',\n  initialState,\n  reducers: {\n    add: (state: ServerState, action) => {\n      state.storage.push(...action.payload);\n    },\n    sortById: (state: ServerState) => {\n      state.storage.sort((a, b) => Number(a.id) - Number(b.id));\n    },\n    setStatusLoading: (\n      state: ServerState,\n      action: PayloadAction<'idle' | 'loading' | 'failed'>,\n    ) => {\n      // eslint-disable-next-line no-param-reassign\n      state.statusLoading = action.payload;\n    },\n    setError: (\n      state: ServerState,\n      action: PayloadAction<unknown>,\n    ) => {\n      // eslint-disable-next-line no-param-reassign\n      state.error = action.payload;\n      // eslint-disable-next-line no-param-reassign\n      state.statusLoading = 'failed';\n    },\n    loadNextPhoto: (state) => {\n      // eslint-disable-next-line no-param-reassign\n      state.nextLoadingPhotoIndex += 1;\n    },\n    setRandomDelay: (state, action: PayloadAction<boolean>) => {\n      // eslint-disable-next-line no-param-reassign\n      state.randomDelayLoading = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getToServerAsync.pending, (\n        state: ServerState,\n        // action: PayloadAction<'idle' | 'loading' | 'failed'>\n      ) => {\n        // eslint-disable-next-line no-param-reassign\n        state.statusLoading = 'loading';\n      })\n      .addCase(getToServerAsync.fulfilled, (state, action) => {\n        action.payload.sort((a, b) => Number(a.id) - Number(b.id));\n\n        state.storage.push(...action.payload);\n        // eslint-disable-next-line no-param-reassign\n        state.statusLoading = 'idle';\n      })\n      .addCase(getToServerAsync.rejected, (state) => {\n        // eslint-disable-next-line no-param-reassign\n        state.statusLoading = 'failed';\n      });\n  },\n});\n\nexport default serverSlice.reducer;\nexport const {\n  add,\n  sortById,\n  setStatusLoading,\n  setError,\n  loadNextPhoto,\n  setRandomDelay,\n} = serverSlice.actions;\n\nexport const selectServerStorage = (state: RootState) => state.server.storage;\nexport const selectServerStatusLoading = (state: RootState) => state.server.statusLoading;\nexport const selectError = (state: RootState) => state.server.error;\nexport const selectRandomDelay = (state: RootState) => state.server.randomDelayLoading;\n\nexport const loadDataOnServer = (dispatch: AppDispatch) => {\n  try {\n    dispatch(getToServerAsync({ page: 1, limit: 100 }));\n  } catch (error) {\n    dispatch(setError(error));\n  }\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","/* eslint-disable no-param-reassign */\nimport {\n  createSlice,\n  PayloadAction,\n} from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../../app/store';\n\nexport interface OptionsState {\n  isOptionsVisible: boolean;\n  isDeletedVisible: boolean;\n  width: number;\n  height: number;\n  'border-radius': number;\n}\n\nconst initialState: OptionsState = {\n  isOptionsVisible: false,\n  isDeletedVisible: false,\n  width: 350,\n  height: 250,\n  'border-radius': 5,\n};\n\nconst optionsSlice = createSlice({\n  name: 'options',\n  initialState,\n  reducers: {\n    setVisible: (state: OptionsState, action: PayloadAction<boolean>) => {\n      state.isOptionsVisible = action.payload;\n    },\n    setWidth: (state: OptionsState, action: PayloadAction<number>) => {\n      if (action.payload > 0 && action.payload <= 350) {\n        state.width = action.payload;\n      }\n    },\n    setHeight: (state: OptionsState, action: PayloadAction<number>) => {\n      if (action.payload > 0 && action.payload <= 350) {\n        state.height = action.payload;\n      }\n    },\n    setBorderRadius: (state: OptionsState, action: PayloadAction<number>) => {\n      if (action.payload >= 0 && action.payload <= 50) {\n        state['border-radius'] = action.payload;\n      }\n    },\n    resetOptions: (state: OptionsState) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      state = initialState;\n    },\n    changeVisibleDeleted: (state: OptionsState, action: PayloadAction<boolean>) => {\n      state.isDeletedVisible = action.payload;\n    },\n  },\n});\n\nexport default optionsSlice.reducer;\n\nexport const {\n  setVisible,\n  setWidth,\n  setHeight,\n  setBorderRadius,\n  resetOptions,\n  changeVisibleDeleted,\n} = optionsSlice.actions;\n\nexport const selectIsVisibleOptions = (state: RootState) => state.options.isOptionsVisible;\nexport const selectOptionsHeight = (state: RootState) => state.options.height;\nexport const selectOptionsWidth = (state: RootState) => state.options.width;\nexport const selectOptionsBorderRadius = (state: RootState) => state.options['border-radius'];\nexport const selectIsDeletedVisible = (state: RootState) => state.options.isDeletedVisible;\n","import React, { FunctionComponent } from 'react';\nimport classNames from 'classnames';\nimport { useAppSelector } from '../../app/hooks';\nimport { selectOptionsBorderRadius, selectOptionsHeight, selectOptionsWidth } from '../../features/Options/optionSlice';\nimport { PhotoElement } from '../../type/PhotoElement';\nimport './Card.scss';\n\ninterface CardProps {\n  content: PhotoElement;\n  onCross: () => void;\n}\n\nexport const Card: FunctionComponent<CardProps> = ({\n  content,\n  onCross,\n}) => {\n  const {\n    // id,\n    author,\n    // url,\n    download_url,\n    status,\n  } = content;\n\n  const cardStyle = {\n    width: useAppSelector(selectOptionsWidth),\n    minWidth: '200px',\n    // 'width' : !download_url ? '200px' : '',\n    height: useAppSelector(selectOptionsHeight),\n    borderRadius: useAppSelector(selectOptionsBorderRadius),\n    backgroundImage: `url(${download_url})`,\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n  };\n\n  const onKeyPressHandler = () => {\n    onCross();\n  };\n\n  return (\n    <div\n      className={classNames('Card',\n        { CardLoader: status === 'loading' })}\n      style={cardStyle}\n    >\n      { status === 'loading' && (\n        <div className=\"CardLoader__content\" />\n      )}\n\n      {(status === 'idle') && (\n        <div className=\"Card--visible\">\n          <div className=\"Card__title\">{author}</div>\n\n          <div\n            className=\"Card__button-cross\"\n            onClick={() => onCross()}\n            onKeyDown={() => onKeyPressHandler()}\n            role=\"button\"\n            tabIndex={0}\n          >\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import {\n  createAsyncThunk,\n  createSlice,\n  PayloadAction,\n} from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../../app/store';\nimport { PhotoElement } from '../../type/PhotoElement';\n// eslint-disable-next-line import/no-cycle\nimport { loadNextPhoto } from '../Server/serverSlice';\n\nfunction isElementInList(\n  array: PhotoElement[],\n  requestId: string,\n):boolean {\n  return array.findIndex(el => el.requestId === requestId) >= 0;\n}\n\nfunction replaceDownloadedPhoto(\n  array: PhotoElement[],\n  requestId: string,\n  photo: PhotoElement,\n): PhotoElement[] {\n  return array.map((el: PhotoElement) => (el.requestId !== requestId\n    ? el\n    : {\n      ...el,\n      ...photo as PhotoElement,\n      status: 'idle',\n      requestId: null,\n    }));\n}\n\nexport interface PhotosState {\n  list: PhotoElement[];\n  deleted: PhotoElement[];\n  onFill: boolean;\n  onFillLoadingStatus: 'idle' | 'loading';\n  loaded: string[];\n}\n\nconst initialState: PhotosState = {\n  list: [] as PhotoElement[],\n  deleted: [] as PhotoElement[],\n  onFill: false,\n  onFillLoadingStatus: 'idle',\n  loaded: [],\n};\n\nexport const falseLoadingPhotoAsync = createAsyncThunk(\n  'photo/fetchPhoto',\n  async (_, {\n    getState,\n    dispatch,\n    requestId,\n  }) => {\n    // console.log('falseLoadingPhotoAsync body async function');\n    const state = getState() as RootState;\n    // eslint-disable-next-line prefer-destructuring\n    const server = state.server;\n    const loadingPhoto = server.storage[server.nextLoadingPhotoIndex];\n\n    dispatch(loadNextPhoto());\n\n    let delay = 3000;\n\n    if (state.server.randomDelayLoading) {\n      delay = 1000 + 3000 * Math.random();\n    }\n\n    const response = await new Promise(resolve => {\n      setTimeout(() => resolve(\n        {\n          ...loadingPhoto,\n          requestId,\n          status: 'loading',\n        } as PhotoElement,\n      ), delay);\n    });\n\n    return response;\n  },\n  // {\n  //   condition: (_, { getState }) => {\n  //     const { photos } = getState() as RootState;\n\n  //     console.log('condition cancelling',\n  //     photos.onFillLoadingStatus === 'loading' && photos.onFill);\n\n  //     return !(photos.onFillLoadingStatus === 'loading' && photos.onFill);\n  //   }\n  // }\n);\n\nconst photosSlice = createSlice({\n  name: 'photo',\n  initialState,\n  reducers: {\n    changePhotoByRequestId: (state: PhotosState, action: PayloadAction<{\n      requestId: string,\n      photo: PhotoElement,\n      status: 'idle' | 'loading',\n    }>) => {\n      state.list.forEach((el: PhotoElement) => (el.requestId !== action.payload.requestId\n        ? el\n        : { ...el, ...action.payload.photo, status: action.payload.status }\n      ));\n    },\n    deletePhoto: (state: PhotosState, action:PayloadAction<string | null | undefined>) => {\n      if (action.payload || action.payload === '0') {\n        const deletedIndex = state.list.findIndex(photo => photo.id === action.payload);\n\n        if (deletedIndex >= 0) {\n          state.deleted.push(...state.list.splice(deletedIndex, 1));\n        }\n      } else {\n        // if action.payload is undefined\n        // eslint-disable-next-line no-lonely-if\n        if (state.list.length) {\n          state.deleted.push(state.list[state.list.length - 1]);\n\n          // eslint-disable-next-line no-plusplus, no-param-reassign\n          state.list.length--;\n        }\n      }\n    },\n    restorePhoto: (state: PhotosState, action: PayloadAction<string>) => {\n      if (action.payload || action.payload === '0') {\n        const restoreIndex = state.deleted.findIndex(photo => photo.id === action.payload);\n\n        // eslint-disable-next-line no-console\n        console.log(restoreIndex);\n\n        if (restoreIndex >= 0) {\n          state.list.push(...state.deleted.splice(restoreIndex, 1));\n        }\n      }\n    },\n    restoreAll: (state: PhotosState) => {\n      state.list.push(...state.deleted);\n      // eslint-disable-next-line no-param-reassign\n      state.deleted.length = 0;\n    },\n    setOnFill: (state: PhotosState, action: PayloadAction<boolean>) => {\n      // eslint-disable-next-line no-param-reassign\n      state.onFill = action.payload;\n    },\n    clear: (state) => {\n      state.deleted.push(...state.list.splice(1));\n    },\n    reset: () => {\n      return initialState;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // get photo from server - false load data from server\n      .addCase(falseLoadingPhotoAsync.pending, (state, action) => {\n        // console.log('falseLoadingPhotoAsync.pending');\n\n        if (state.onFill) {\n          // eslint-disable-next-line no-param-reassign\n          state.onFillLoadingStatus = 'loading';\n        }\n\n        const loadingPhoto: PhotoElement = {\n          id: null,\n          author: null,\n          width: null,\n          height: null,\n          url: null,\n          download_url: null,\n          requestId: action.meta.requestId,\n          status: 'loading',\n        };\n\n        state.list.push(loadingPhoto);\n      })\n      .addCase(falseLoadingPhotoAsync.fulfilled, (state, action) => {\n        // console.log('falseLoadingPhotoAsync.fulfilled');\n        const { requestId } = action.meta;\n\n        if (state.onFill) {\n          // eslint-disable-next-line no-param-reassign\n          state.onFillLoadingStatus = 'idle';\n        }\n\n        if (isElementInList(state.list, requestId)) {\n          // eslint-disable-next-line no-param-reassign\n          state.list = replaceDownloadedPhoto(\n            state.list,\n            requestId,\n            action.payload as PhotoElement,\n          );\n        } else if (isElementInList(state.deleted, requestId)) {\n          // eslint-disable-next-line no-param-reassign\n          state.deleted = replaceDownloadedPhoto(\n            state.deleted,\n            requestId,\n            action.payload as PhotoElement,\n          );\n        }\n\n        if (state.onFill && state.onFillLoadingStatus === 'loading') {\n          // eslint-disable-next-line no-param-reassign\n          state.onFillLoadingStatus = 'idle';\n        }\n      })\n      .addCase(falseLoadingPhotoAsync.rejected, () => {\n      });\n  },\n});\n\nexport default photosSlice.reducer;\nexport const {\n  changePhotoByRequestId,\n  deletePhoto,\n  restorePhoto,\n  restoreAll,\n  setOnFill,\n  clear,\n} = photosSlice.actions;\n\nexport const selectVisible = (state: RootState) => state.photos.list;\nexport const selectDeleted = (state: RootState) => state.photos.deleted;\nexport const selectOnFill = (state: RootState) => state.photos.onFill;\nexport const selectOnFillLoadingStatus = (state: RootState) => state.photos.onFillLoadingStatus;\n","import React, {\n  FunctionComponent,\n  useEffect,\n  // useRef,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { Card } from '../Card';\nimport {\n  deletePhoto,\n  falseLoadingPhotoAsync,\n  selectOnFill,\n  selectOnFillLoadingStatus,\n  selectVisible,\n} from '../../features/Photo/photoSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport './Container.scss';\nimport { selectOptionsHeight, selectOptionsWidth } from '../../features/Options/optionSlice';\n\nexport const Container: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const onFill = useAppSelector(selectOnFill);\n  const onFillStatus = useAppSelector(selectOnFillLoadingStatus);\n  const photos = useAppSelector(selectVisible);\n  const widthCard = useAppSelector(selectOptionsWidth);\n  const heightCard = useAppSelector(selectOptionsHeight);\n\n  const [countPlaces, setCountPlaces] = useState(0);\n\n  const widthWindow = window.innerWidth < 1280 ? window.innerWidth : 1280;\n  const countW = Math.floor((widthWindow - 40 + 20) / (widthCard + 20));\n\n  const heightWindow = window.innerHeight - 66 - 40 - 24.900 * 2;\n  const countH = Math.floor((heightWindow + 20) / (heightCard + 20));\n\n  useEffect(() => {\n    if (onFill && onFillStatus === 'idle' && photos.length < countPlaces) {\n      dispatch(falseLoadingPhotoAsync());\n    }\n  });\n\n  useEffect(() => {\n    setCountPlaces(countW * (countH + 1));\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    document.addEventListener('scroll', () => scrollHandler);\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return () => document.removeEventListener('scroll', () => scrollHandler);\n  }, []);\n\n  const scrollHandler = (\n    e: { target: { documentElement: { scrollHeight: number; scrollTop: number; }; }; },\n  ) => {\n    if (e.target.documentElement.scrollHeight\n    - window.innerHeight\n    - e.target.documentElement.scrollTop < 100\n    && onFill) {\n      setCountPlaces(countPlaces + countW);\n    }\n  };\n\n  return (\n    <>\n      <ul\n        className={classNames('Container')}\n      >\n        {photos.map(el => (\n          <li key={el.requestId || el.id}>\n            <Card\n              content={el}\n              onCross={() => {\n                dispatch(deletePhoto(el.id));\n              }}\n            />\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n","import {\n  configureStore,\n  ThunkAction,\n  Action,\n  combineReducers,\n} from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\n// eslint-disable-next-line import/no-cycle\nimport photosReducer from '../features/Photo/photoSlice';\n// eslint-disable-next-line import/no-cycle\nimport optionsReducer from '../features/Options/optionSlice';\n// eslint-disable-next-line import/no-cycle\nimport serverReducer from '../features/Server/serverSlice';\n\nconst rootReducer = combineReducers({\n  photos: photosReducer,\n  options: optionsReducer,\n  server: serverReducer,\n});\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['photos', 'options'],\n  // blacklist: ['server', 'viewport'],\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER, 'server'],\n    },\n  }),\n});\n\nexport default store;\n\nexport const persistor = persistStore(store);\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n\n/* eslint-disable @typescript-eslint/indent */\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React, {\n  FunctionComponent,\n  useRef,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { persistor } from '../../app/store';\nimport {\n  setVisible,\n  selectIsVisibleOptions,\n  changeVisibleDeleted,\n  selectIsDeletedVisible,\n} from '../../features/Options/optionSlice';\nimport {\n  clear,\n  deletePhoto,\n  falseLoadingPhotoAsync,\n  selectOnFill,\n  setOnFill,\n} from '../../features/Photo/photoSlice';\nimport './Header.scss';\nimport '../../layout/button.scss';\n\nexport const Header: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const isVisibleOptions = useAppSelector(selectIsVisibleOptions);\n  const onFillByThunk = useAppSelector(selectOnFill);\n  const isOptionsVisible = useAppSelector(selectIsVisibleOptions);\n  const isDeletedVisible = useAppSelector(selectIsDeletedVisible);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  const onFillCallBack = () => dispatch(falseLoadingPhotoAsync());\n  const [onFillSetTimeOut, setOnFillSetTimeOut] = useState(false);\n\n  const startOnFillSetTimeOut = (status: boolean) => {\n    if (status) {\n      timerRef.current = setInterval(onFillCallBack, 3000);\n    } else {\n      clearInterval(timerRef.current as NodeJS.Timeout);\n    }\n  };\n\n  const onFillHandler = (status: boolean) => {\n    setOnFillSetTimeOut(!status);\n    startOnFillSetTimeOut(!status);\n  };\n\n  const onPurge = () => {\n    persistor.purge();\n    window.location.reload();\n  };\n\n  const onOptions = () => {\n    dispatch(setVisible(!isVisibleOptions));\n    dispatch(changeVisibleDeleted(false));\n  };\n\n  const onDeleted = () => {\n    dispatch(changeVisibleDeleted(!isDeletedVisible));\n    dispatch(setVisible(false));\n  };\n\n  return (\n    <header className=\"Header\">\n      <button\n        type=\"button\"\n        onClick={() => dispatch(falseLoadingPhotoAsync())}\n        className={classNames('Header__button', 'button')}\n      >\n        Add\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => dispatch(deletePhoto())}\n        className={classNames('Header__button', 'button')}\n      >\n        Delete\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => {\n          dispatch(setOnFill(!onFillByThunk));\n        }}\n        className={classNames('Header__button', 'button',\n          { 'button--active': onFillByThunk })}\n      >\n        FillByThunk\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => onFillHandler(onFillSetTimeOut)}\n        className={classNames('Header__button', 'button',\n          { 'button--active': onFillSetTimeOut })}\n      >\n        FillBySetTimeInterval\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => dispatch(clear())}\n        className={classNames('Header__button', 'button')}\n      >\n        Clear\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => onOptions()}\n        className={classNames('Header__button', 'button',\n          { 'button--active': isOptionsVisible })}\n      >\n        Options\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => onDeleted()}\n        className={classNames('Header__button', 'button')}\n      >\n        Show Deleted\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => onPurge()}\n        className={classNames('Header__button', 'button')}\n      >\n        Purge\n      </button>\n    </header>\n  );\n};\n","import { ActionCreatorWithPayload } from '@reduxjs/toolkit';\nimport React, { FunctionComponent, useCallback } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { RootState } from '../../app/store';\nimport './Scale.scss';\n\ninterface ScaleProps {\n  title: string;\n  min: number;\n  max: number;\n  currentSelector: (State: RootState) => number;\n  setCurrent: ActionCreatorWithPayload<number, string>;\n}\n\nconst array = [\n  '#48ff05',\n  '#6aff00',\n  '#98ff00',\n  '#b9ff01',\n  '#dcf600',\n  '#daf601',\n  '#e5c808',\n  '#f09900',\n  '#f52f02',\n  '#bf3217',\n];\n\nexport const Scale: FunctionComponent<ScaleProps> = ({\n  title,\n  min,\n  max,\n  currentSelector,\n  setCurrent,\n}) => {\n  const dispatch = useAppDispatch();\n\n  const width = 250;\n  const current: number = useAppSelector(currentSelector);\n\n  const currentValue = useCallback((i: number) => min + (((max - min) * i) / 10), []);\n\n  const styleButton = (item: string, i: number) => ({\n    width: width / 10,\n    backgroundColor: item,\n    opacity: currentValue(i) < current ? 1 : 0.5,\n  });\n\n  const onButton = (i: number) => {\n    dispatch(setCurrent(min + (((max - min) * i) / 10)));\n  };\n\n  return (\n    <div\n      className=\"Scale\"\n    >\n      <div className=\"Scale__title\">{title}</div>\n      <div\n        className=\"Scale__base\"\n      >\n        {array.map((item, i) => (\n          <button\n            type=\"button\"\n            className=\"Scale__button\"\n            onClick={() => onButton(i + 1)}\n            key={item}\n            style={styleButton(item, i)}\n          >\n          </button>\n        ))}\n      </div>\n\n      <div\n        className=\"Scale__current-value\"\n      >\n        {current}\n      </div>\n    </div>\n  );\n};\n","import React, {\n  FunctionComponent,\n} from 'react';\nimport classNames from 'classnames';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport {\n  selectOptionsHeight,\n  selectOptionsWidth,\n  selectIsVisibleOptions,\n  setHeight,\n  setWidth,\n  setBorderRadius,\n  selectOptionsBorderRadius,\n} from '../../features/Options/optionSlice';\nimport { selectRandomDelay, setRandomDelay } from '../../features/Server/serverSlice';\nimport './Options.scss';\nimport '../../layout/custom_checkbox.scss';\nimport { Scale } from '../Scale';\n\nexport const Options: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const visible = useAppSelector(selectIsVisibleOptions);\n  const isRandomDelay = useAppSelector(selectRandomDelay);\n\n  return (\n    <>\n      { visible && (\n        <div className=\"Options\">\n          <div>\n            <Scale\n              title=\"width\"\n              min={150}\n              max={350}\n              currentSelector={selectOptionsWidth}\n              setCurrent={setWidth}\n            />\n\n            <Scale\n              title=\"height\"\n              min={150}\n              max={250}\n              currentSelector={selectOptionsHeight}\n              setCurrent={setHeight}\n            />\n            <Scale\n              title=\"border-radius\"\n              min={0}\n              max={20}\n              currentSelector={selectOptionsBorderRadius}\n              setCurrent={setBorderRadius}\n            />\n\n            <div className=\"Options__field\">\n              random delay&nbsp;\n              <div\n                role=\"checkbox\"\n                aria-checked=\"false\"\n                aria-labelledby=\"delay\"\n                tabIndex={0}\n                className={classNames('custom-checkbox',\n                  { 'custom-checkbox--checked': isRandomDelay })}\n                onClick={() => dispatch(setRandomDelay(!isRandomDelay))}\n                onKeyDown={() => {}}\n              >\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { FunctionComponent, useState } from 'react';\nimport classNames from 'classnames';\nimport { useAppDispatch } from '../../app/hooks';\nimport { restoreAll, restorePhoto } from '../../features/Photo/photoSlice';\nimport { PhotoElement } from '../../type/PhotoElement';\nimport { Card } from '../Card';\nimport './Modal.scss';\n\ninterface ModalProps {\n  closeModal: (value: boolean) => void;\n  content: PhotoElement[];\n}\n\nexport const Modal: FunctionComponent<ModalProps> = ({\n  closeModal,\n  content,\n}) => {\n  const dispatch = useAppDispatch();\n  const restore = (id:string | null) => (id ? dispatch(restorePhoto(id)) : null);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const onRestore = () => {\n    if (!content.length) {\n      setIsEmpty(true);\n      setTimeout(() => setIsEmpty(false), 3000);\n    } else {\n      dispatch(restoreAll());\n    }\n  };\n\n  return (\n    <div className=\"Modal\">\n      <div className=\"Modal__header\">\n        <h2>Deleted</h2>\n\n        <div className=\"Modal__container\">\n          <button\n            type=\"button\"\n            onClick={() => closeModal(false)}\n            className={classNames('Modal__button', 'button')}\n          >\n            Close\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => onRestore()}\n            className={classNames('Modal__button', 'button')}\n          >\n            Restore All\n          </button>\n        </div>\n      </div>\n\n      {isEmpty && <h2 className=\"Modal__title-empty\">Deleted is empty</h2>}\n\n      <ul className=\"Modal__list\">\n        {content.map((item: PhotoElement) => (\n          <li key={item.id || item.requestId}>\n            <Card\n              content={item}\n              onCross={() => restore(item.id)}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { Loader } from '../components/Loader';\nimport { Container } from '../components/Container';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { Header } from '../components/Header';\nimport { Options } from '../components/Options';\nimport { selectServerStatusLoading } from '../features/Server/serverSlice';\nimport { selectDeleted } from '../features/Photo/photoSlice';\nimport { selectIsDeletedVisible, changeVisibleDeleted } from '../features/Options/optionSlice';\nimport { Modal } from '../components/Modal';\nimport './HomePage.scss';\n\nexport const HomePage: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const statusLoading = useAppSelector(selectServerStatusLoading);\n  const deleted = useAppSelector(selectDeleted);\n  const isVisibleDeleted = useAppSelector(selectIsDeletedVisible);\n  // const [isScrollDown, setScrollDown] = useState(false);\n\n  // const headerHeight = 66;\n  // const titleHeight = 24.900 * 2 + 40;\n  // const rest = window.innerHeight - titleHeight;\n  // console.log('rest', rest, window.innerWidth);\n\n  // useEffect(() => {\n  //   if (onFill && onFillStatus === 'idle') {\n  //     dispatch(falseLoadingPhotoAsync());\n  //   }\n  // });\n\n  // useEffect(() => {\n  //   document.addEventListener('scroll', scrollHandler)\n\n  //   return () => document.removeEventListener('scroll', scrollHandler);\n  // }, []);\n\n  // const scrollHandler = (e: any) => {\n  //   console.log(e.target.documentElement.scrollHeight);\n  //   console.log(e.target.documentElement.scrollTop);\n  //   console.log(window.innerHeight);\n  //   if (e.target.documentElement.scrollHeight\n  //   - window.innerHeight - e.target.documentElement.scrollTop < 100 ) {\n  //     console.log('scroll');\n  //   };\n\n  // };\n\n  // console.log('render HomePage');\n\n  return (\n    <>\n      <Header />\n      <Options />\n      <main className=\"HomePage__main\">\n        {(statusLoading === 'loading') && (\n          <Loader />\n        )}\n\n        {(statusLoading === 'failed') && (\n          <>Error</>\n        )}\n\n        {(statusLoading === 'idle') && (\n          <Container />\n        )}\n      </main>\n\n      {isVisibleDeleted && (\n        <Modal\n          closeModal={() => dispatch(changeVisibleDeleted(false))}\n          content={deleted}\n        />\n      )}\n    </>\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { useAppDispatch } from './app/hooks';\nimport { loadDataOnServer } from './features/Server/serverSlice';\nimport { HomePage } from './HomePage';\nimport './App.scss';\n\nconst App: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(loadDataOnServer);\n  }, []);\n\n  return (\n    <HomePage />\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store, { persistor } from './app/store';\nimport './index.scss';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement,\n);\n\nroot.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n);\n"],"sourceRoot":""}